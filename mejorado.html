<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"> 
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="mejorado.css">
  <title>ENCATI</title>
</head>
<body style="font-family: 'Quicksand', sans-serif;">

  <header>
    <nav class="navbar bg-body fixed-top" style="background-color: #021024 !important; position: absolute !important; ">
        <div class="container-fluid">
            <a class="navbar-brand" href="#" style="color: #c1e8ff;">
                <img src="logoA.png" alt="Logo" width="39" height="33" class="d-inline-block align-text-top">
                ENCATI
            </a>
            <form class="d-flex" role="search">
                <i class="bi bi-shop" style="margin-right: .5rem; color:white; font-size: 1.6rem;"></i>
                
                <select class="form-select" aria-label="Seleccione una tiendita" style="text-align: center;" id="tienda">
                    <option selected>Seleccionar la tienda</option>
                    <option value="1">Abarrotes Lucia</option>
                    <option value="2">Halcones</option>
                    <option value="3">El nido del Halc√≥n</option>
                </select>

                <i class="bi bi-calendar-date-fill" style="margin-right: .5rem; color:white; font-size: 1.6rem; margin-left: .5rem;"></i>
                <select class="form-select" aria-label="Seleccione una encuesta" style="text-align: center;" id="encuesta">
                  <option selected>Seleccionar encuesta</option>
                  <option value="1">2023_V1</option>
                  <option value="2">2023_V2</option>
                  <option value="3">2023_V3</option>
              </select>
            </form>
        </div>
    </nav>
</header>


<div class="content">

    <table class="principal">
      <tbody>

        <tr  style="width: 19rem; border: .2rem solid #001256;">
          <td style="width: 19rem; border: .2rem solid #001256;"><h3 style="text-align: center;" >Caracteristicas</h3></td>
             
             
           <td class="pregunta" >
             <div class="face" style="font-size: 1.1rem; font-weight: 700;">
               <div class="mala" >
                   MALA
               </div>
               <div class="regular" >
                  REGULAR
               </div>
               <div  class="buena" >
                   BUENA
               </div>
               <div  class="mbuena">
                   MUY BUENA
               </div>
               <div class="excelente">
                   EXCELENTE
               </div>
           </div>
          </td>
          <td style=" border: .2rem solid #001256; border-left: none;">
            <h4 style="text-align: center; font-weight: 700;">Respuesta</h4>
          </td>
       </tr>
        <tr >
         <td style="width: 19rem; border-top: .2rem solid #001256; border-right: .2rem solid #001256; border-left: .2rem solid #001256;"><h3><i class="bi bi-gear-wide"></i>     Funcionalidad</h3></td>
            
            
          <td class="pregunta" id="Funcionalidad">
            <div class="face" id="opcFun">
              <div class="mala" onclick="copiarPropiedades(this)">
                  <i class="bi bi-emoji-angry-fill"></i>
              </div>
              <div class="regular" onclick="copiarPropiedades(this)">
                  <i class="bi bi-emoji-frown-fill"></i>
              </div>
              <div  class="buena"onclick="copiarPropiedades(this)" >
                  <i class="bi bi-emoji-neutral-fill"></i>
              </div>
              <div  class="mbuena" onclick="copiarPropiedades(this)">
                  <i class="bi bi-emoji-smile-fill"></i>
              </div>
              <div class="excelente" onclick="copiarPropiedades(this)">
                  <i class="bi bi-emoji-laughing-fill"></i>
              </div>
          </div>
          </td>
          <td class="respuesta" >
            <div class="re" id="respFun">

            </div>
          </td>
      </tr>
      <tr >
       <td style="width: 19rem; border-right: .2rem solid #001256; border-left: .2rem solid #001256;"><h3><i class="bi bi-shield-fill-check"></i>    Confiabilidad</h3></td>
          
          <td class="pregunta" id="Confiabilidad">
          <div class="face" id="opcConf">
            <div class="mala"  onclick="copiarPropiedadesConf(this)">
                <i class="bi bi-emoji-angry-fill"></i>
            </div>
            <div class="regular" onclick="copiarPropiedadesConf(this)">
                <i class="bi bi-emoji-frown-fill"></i>
            </div>
            <div  class="buena" onclick="copiarPropiedadesConf(this)">
                <i class="bi bi-emoji-neutral-fill"></i>
            </div>
            <div  class="mbuena" onclick="copiarPropiedadesConf(this)">
                <i class="bi bi-emoji-smile-fill"></i>
            </div>
            <div class="excelente" onclick="copiarPropiedadesConf(this)">
                <i class="bi bi-emoji-laughing-fill"></i>
            </div>
        </div>
        </td>
        <td class="respuesta" >
          <div class="re"id="resConf">

          </div>
        </td>
      </tr>
      <tr >
        <td style="width: 19rem; border-right: .2rem solid #001256; border-left: .2rem solid #001256;"><h3><i class="bi bi-phone"></i>    Usabilidad</h3></td>
          
          <td class="pregunta" id="Usabilidad">
          <div class="face" id="opcUs">
            <div class="mala" onclick="copiarPropiedadesUs(this)">
                <i class="bi bi-emoji-angry-fill"></i>
            </div>
            <div class="regular" onclick="copiarPropiedadesUs(this)">
                <i class="bi bi-emoji-frown-fill"></i>
            </div>
            <div  class="buena" onclick="copiarPropiedadesUs(this)">
                <i class="bi bi-emoji-neutral-fill"></i>
            </div>
            <div  class="mbuena" onclick="copiarPropiedadesUs(this)">
                <i class="bi bi-emoji-smile-fill"></i>
            </div>
            <div class="excelente" onclick="copiarPropiedadesUs(this)">
                <i class="bi bi-emoji-laughing-fill"></i>
            </div>
        </div>
        </td>
        <td class="respuesta">
          <div class="re" id="resUs">

          </div>
        </td>
      </tr>
      <tr >
        <td style="width: 19rem; border-right: .2rem solid #001256; border-left: .2rem solid #001256;"><h3><i class="bi bi-graph-up-arrow"></i>     Rendimiento</h3></td>
          
          <td class="pregunta"id="Rendimiento" >
          <div class="face" id="opcRen">
            <div class="mala" onclick="copiarPropiedadesRen(this)">
                <i class="bi bi-emoji-angry-fill"></i>
            </div>
            <div class="regular" onclick="copiarPropiedadesRen(this)">
                <i class="bi bi-emoji-frown-fill"></i>
            </div>
            <div  class="buena" onclick="copiarPropiedadesRen(this)">
                <i class="bi bi-emoji-neutral-fill"></i>
            </div>
            <div  class="mbuena" onclick="copiarPropiedadesRen(this)">
                <i class="bi bi-emoji-smile-fill"></i>
            </div>
            <div class="excelente" onclick="copiarPropiedadesRen(this)">
                <i class="bi bi-emoji-laughing-fill"></i>
            </div>
        </div>
        </td>
        <td class="respuesta">
          <div class="re" id="resRen">

          </div>
        </td>
      </tr>
      <tr >
        
          <td style="width: 19rem; border-right: .2rem solid #001256; border-left: .2rem solid #001256;"><h3><i class="bi bi-wrench-adjustable-circle"></i> Mantenimiento</h3></td>
          <td class="pregunta" id="Mantenimiento">
          <div class="face" id="opcMan">
            <div class="mala" onclick="copiarPropiedadesMan(this)">
                <i class="bi bi-emoji-angry-fill"></i>
            </div>
            <div class="regular" onclick="copiarPropiedadesMan(this)">
                <i class="bi bi-emoji-frown-fill"></i>
            </div>
            <div  class="buena" onclick="copiarPropiedadesMan(this)">
                <i class="bi bi-emoji-neutral-fill"></i>
            </div>
            <div  class="mbuena" onclick="copiarPropiedadesMan(this)">
                <i class="bi bi-emoji-smile-fill"></i>
            </div>
            <div class="excelente" onclick="copiarPropiedadesMan(this)">
                <i class="bi bi-emoji-laughing-fill"></i>
            </div>
        </div>
        </td>
        <td class="respuesta">
          <div class="re" id="resMan">

          </div>
        </td>
      </tr>
       <tr >
        <td style="width: 19rem; border-right: .2rem solid #001256; border-left: .2rem solid #001256;"><h3><i class="bi bi-laptop"></i> Portabilidad</h3></td>
          
          <td class="pregunta" id="Portabilidad">
          <div class="face" id="opcPor">
            <div class="mala" onclick="copiarPropiedadesPor(this)">
                <i class="bi bi-emoji-angry-fill"></i>
            </div>
            <div class="regular" onclick="copiarPropiedadesPor(this)">
                <i class="bi bi-emoji-frown-fill"></i>
            </div>
            <div  class="buena" onclick="copiarPropiedadesPor(this)">
                <i class="bi bi-emoji-neutral-fill"></i>
            </div>
            <div  class="mbuena" onclick="copiarPropiedadesPor(this)">
                <i class="bi bi-emoji-smile-fill"></i>
            </div>
            <div class="excelente" onclick="copiarPropiedadesPor(this)">
                <i class="bi bi-emoji-laughing-fill"></i>
            </div>
        </div>
        </td>
        <td class="respuesta">
          <div class="re" id="resPor">

          </div>
        </td>
      </tr>
      <tr>
        <td style="width: 19rem; border-right: .2rem solid #001256; border-left: .2rem solid #001256;"> <h3><i class="bi bi-lock"></i>   Seguridad</h3></td>
         
          <td class="pregunta"  id="Seguridad">
          <div class="face" id="opcSeg">
            <div class="mala" onclick="copiarPropiedadesSeg(this)">
                <i class="bi bi-emoji-angry-fill"></i>
            </div>
            <div class="regular" onclick="copiarPropiedadesSeg(this)">
                <i class="bi bi-emoji-frown-fill"></i>
            </div>
            <div  class="buena" onclick="copiarPropiedadesSeg(this)">
                <i class="bi bi-emoji-neutral-fill"></i>
            </div>
            <div  class="mbuena" onclick="copiarPropiedadesSeg(this)">
                <i class="bi bi-emoji-smile-fill"></i>
            </div>
            <div class="excelente" onclick="copiarPropiedadesSeg(this)">
                <i class="bi bi-emoji-laughing-fill"></i>
            </div>
        </div>
        </td>
        <td class="respuesta">
          <div class="re" id="resSeg">

          </div>
        </td>
      </tr>
      <tr  style="border-bottom: .2rem solid #001256;">
        <td style="width: 19rem; border-bottom: .2rem solid #001256;  border-right: .2rem solid #001256; border-left: .2rem solid #001256;"><h3><i class="bi bi-phone-flip"></i> Compatibilidad</h3></td>
          
          <td class="pregunta" id="Compatibilidad">
          <div class="face" id="opcCom">
            <div class="mala" onclick="copiarPropiedadesCom(this)">
                <i class="bi bi-emoji-angry-fill"></i>
            </div>
            <div class="regular" onclick="copiarPropiedadesCom(this)">
                <i class="bi bi-emoji-frown-fill"></i>
            </div>
            <div  class="buena" onclick="copiarPropiedadesCom(this)">
                <i class="bi bi-emoji-neutral-fill"></i>
            </div>
            <div  class="mbuena" onclick="copiarPropiedadesCom(this)" >
                <i class="bi bi-emoji-smile-fill"></i>
            </div>
            <div class="excelente" onclick="copiarPropiedadesCom(this)">
                <i class="bi bi-emoji-laughing-fill"></i>
            </div>
        </div>
        </td>
        <td class="respuesta">
          <div class="re" id="resCom">

          </div>
        </td>
      </tr>
      </tbody>

    </table>

    <div class="por">
    <div class="c">
     <div class="palabra">
       Porcentaje
      </div>
      <div class="porcentaje" id="porcentaje">
        0%
      </div>
    </div>
      
    </div>
    <div class="buttons">
      <button type="button" class="btn " style="background-color: #021024 !important; color: #c1e8ff;" onclick="location.reload()">Cancelar</button>
      <button type="button" id="guardarBtn" class="btn " style="background-color: rgb(119, 120, 121); color: aliceblue;">Guardar</button>

    </div>


</div>



 
  </div>
  </div>
</div>

<script>

function validar() {
  var tiendaSelect = document.getElementById("tienda");
  var encuestaSelect = document.getElementById("encuesta");
  return (
    tiendaSelect.options[tiendaSelect.selectedIndex].value !== "Seleccionar la tienda" &&
    encuestaSelect.options[encuestaSelect.selectedIndex].value !== "Seleccionar encuesta"
  );
}





  var po=0;
  var f,c,u,r,m,p,s,com;
  var guardarBtn = document.getElementById("guardarBtn");
  var encuestaSelect = document.getElementById("encuesta");


    function copiarPropiedades(elemento) {
      if (!validar()) {
    return;
  }
      var resFun = document.getElementById("respFun");
      var row = document.getElementById("Funcionalidad");

      var color = window.getComputedStyle(elemento).color;
      var icon = elemento.querySelector("i").outerHTML;
      var text = elemento.textContent;
      resFun.style.color = color;
      resFun.innerHTML = icon + "<br>" + text;

      f=0;
      row.style.backgroundColor = "rgba" + color.slice(3, -1) + ", 0.2)";
      if(color==="rgb(220, 20, 60)"){
        f=0;
      }else if(color==="rgb(255, 140, 0)"){
        f=1;
      }else if(color==="rgb(255, 215, 0)"){
        f=2;
      }else if(color==="rgb(46, 139, 87)"){
        f=3;
      }else if(color==="rgb(30, 144, 255)"){
        f=4;
      }
      if(f==null|| c==null || u==null ||s==null || m==null || r==null ||com==null || p==null){

}else{
  var po = ((p + u + c + com + s + f + r + m) * 100) / 32;

var poStr = po.toString();
if (poStr.includes(".")) {
  var partes = poStr.split(".");
  if (partes[1].length > 2) {
    po = po.toFixed(2); // Redondea a 2 decimales
  }
}

po = po + "%";

var porcentaje = document.getElementById("porcentaje");
porcentaje.textContent = po;
    }
      
    }




    function copiarPropiedadesConf(elemento) {
    if (!validar()) {
    return;
    }
      var resFun = document.getElementById("resConf");

      var color = window.getComputedStyle(elemento).color;
      var icon = elemento.querySelector("i").outerHTML;
      var text = elemento.textContent;

      resConf.style.color = color;
      resConf.innerHTML = icon + "<br>" + text;
      var row = document.getElementById("Confiabilidad");
  
      row.style.backgroundColor = "rgba" + color.slice(3, -1) + ", 0.2)";

      c=0;
      row.style.backgroundColor = "rgba" + color.slice(3, -1) + ", 0.2)";
      if(color==="rgb(220, 20, 60)"){
        c=0;
      }else if(color==="rgb(255, 140, 0)"){
        c=1;
      }else if(color==="rgb(255, 215, 0)"){
        c=2;
      }else if(color==="rgb(46, 139, 87)"){
        c=3;
      }else if(color==="rgb(30, 144, 255)"){
        c=4;
      }

      if(f==null|| c==null || u==null ||s==null || m==null || r==null ||com==null || p==null){

      }else{
        var po = ((p + u + c + com + s + f + r + m) * 100) / 32;

      var poStr = po.toString();
      if (poStr.includes(".")) {
        var partes = poStr.split(".");
        if (partes[1].length > 2) {
          po = po.toFixed(2); // Redondea a 2 decimales
        }
      }

      po = po + "%";

      var porcentaje = document.getElementById("porcentaje");
      porcentaje.textContent = po;
    }
  }

    function copiarPropiedadesUs(elemento) {
      if (!validar()) {
    return;}
      var resFun = document.getElementById("resUs");

      var color = window.getComputedStyle(elemento).color;
      var icon = elemento.querySelector("i").outerHTML;
      var text = elemento.textContent;

      resUs.style.color = color;
      resUs.innerHTML = icon + "<br>" + text;
      var row = document.getElementById("Usabilidad");
  
  row.style.backgroundColor = "rgba" + color.slice(3, -1) + ", 0.2)";
  u=0;
      if(color==="rgb(220, 20, 60)"){
        u=0;
      }else if(color==="rgb(255, 140, 0)"){
        u=1;
      }else if(color==="rgb(255, 215, 0)"){
        u=2;
      }else if(color==="rgb(46, 139, 87)"){
        u=3;
      }else if(color==="rgb(30, 144, 255)"){
        u=4;
      }
      

      if(f==null|| c==null || u==null ||s==null || m==null || r==null ||com==null || p==null){

}else{
  var po = ((p + u + c + com + s + f + r + m) * 100) / 32;

var poStr = po.toString();
if (poStr.includes(".")) {
  var partes = poStr.split(".");
  if (partes[1].length > 2) {
    po = po.toFixed(2); // Redondea a 2 decimales
  }
}

po = po + "%";

var porcentaje = document.getElementById("porcentaje");
porcentaje.textContent = po;
    }

    }
    
    function copiarPropiedadesRen(elemento) {
      if (!validar()) {
    return;}
      var resFun = document.getElementById("resRen");

      var color = window.getComputedStyle(elemento).color;
      var icon = elemento.querySelector("i").outerHTML;
      var text = elemento.textContent;

      resRen.style.color = color;
      resRen.innerHTML = icon + "<br>" + text;
      var row = document.getElementById("Rendimiento");
  
  row.style.backgroundColor = "rgba" + color.slice(3, -1) + ", 0.2)";

  r=0;
      if(color==="rgb(220, 20, 60)"){
        r=0;
      }else if(color==="rgb(255, 140, 0)"){
        r=1;
      }else if(color==="rgb(255, 215, 0)"){
        r=2;
      }else if(color==="rgb(46, 139, 87)"){
        r=3;
      }else if(color==="rgb(30, 144, 255)"){
        r=4;
      }
      if(f==null|| c==null || u==null ||s==null || m==null || r==null ||com==null || p==null){

}else{
  var po = ((p + u + c + com + s + f + r + m) * 100) / 32;

var poStr = po.toString();
if (poStr.includes(".")) {
  var partes = poStr.split(".");
  if (partes[1].length > 2) {
    po = po.toFixed(2); // Redondea a 2 decimales
  }
}

po = po + "%";

var porcentaje = document.getElementById("porcentaje");
porcentaje.textContent = po;
    }

    }

    function copiarPropiedadesMan(elemento) {
      if (!validar()) {
    return;}
      var resFun = document.getElementById("resMan");

      var color = window.getComputedStyle(elemento).color;
      var icon = elemento.querySelector("i").outerHTML;
      var text = elemento.textContent;

      resMan.style.color = color;
      resMan.innerHTML = icon + "<br>" + text;
      var row = document.getElementById("Mantenimiento");
  
  row.style.backgroundColor = "rgba" + color.slice(3, -1) + ", 0.2)";
  m=0;
      if(color==="rgb(220, 20, 60)"){
        m=0;
      }else if(color==="rgb(255, 140, 0)"){
        m=1;
      }else if(color==="rgb(255, 215, 0)"){
        m=2;
      }else if(color==="rgb(46, 139, 87)"){
        m=3;
      }else if(color==="rgb(30, 144, 255)"){
        m=4;
      }
      if(f==null|| c==null || u==null ||s==null || m==null || r==null ||com==null || p==null){

}else{
  var po = ((p + u + c + com + s + f + r + m) * 100) / 32;

var poStr = po.toString();
if (poStr.includes(".")) {
  var partes = poStr.split(".");
  if (partes[1].length > 2) {
    po = po.toFixed(2); // Redondea a 2 decimales
  }
}

po = po + "%";

var porcentaje = document.getElementById("porcentaje");
porcentaje.textContent = po;
    }

    }
    function copiarPropiedadesPor(elemento) {
      if (!validar()) {
    return;}
      var resFun = document.getElementById("resPor");

      var color = window.getComputedStyle(elemento).color;
      var icon = elemento.querySelector("i").outerHTML;
      var text = elemento.textContent;

      resPor.style.color = color;
      resPor.innerHTML = icon + "<br>" + text;
      var row = document.getElementById("Portabilidad");
  
  row.style.backgroundColor = "rgba" + color.slice(3, -1) + ", 0.2)";

  p=0;
      if(color==="rgb(220, 20, 60)"){
        p=0;
      }else if(color==="rgb(255, 140, 0)"){
        p=1;
      }else if(color==="rgb(255, 215, 0)"){
        p=2;
      }else if(color==="rgb(46, 139, 87)"){
        p=3;
      }else if(color==="rgb(30, 144, 255)"){
        p=4;
      }
      
      if(f==null|| c==null || u==null ||s==null || m==null || r==null ||com==null || p==null){

}else{
      var po = ((p + u + c + com + s + f + r + m) * 100) / 32;

    var poStr = po.toString();
    if (poStr.includes(".")) {
      var partes = poStr.split(".");
      if (partes[1].length > 2) {
        po = po.toFixed(2); // Redondea a 2 decimales
      }
}

po = po + "%";

var porcentaje = document.getElementById("porcentaje");
porcentaje.textContent = po;
    }
      
    }
    function copiarPropiedadesSeg(elemento) {
      if (!validar()) {
    return;}
      var resFun = document.getElementById("resSeg");

      var color = window.getComputedStyle(elemento).color;
      var icon = elemento.querySelector("i").outerHTML;
      var text = elemento.textContent;

      resSeg.style.color = color;
      resSeg.innerHTML = icon + "<br>" + text;
      var row = document.getElementById("Seguridad");
  
  row.style.backgroundColor = "rgba" + color.slice(3, -1) + ", 0.2)";
  s=0;
      if(color==="rgb(220, 20, 60)"){
        s=0;
      }else if(color==="rgb(255, 140, 0)"){
        s=1;
      }else if(color==="rgb(255, 215, 0)"){
        s=2;
      }else if(color==="rgb(46, 139, 87)"){
        s=3;
      }else if(color==="rgb(30, 144, 255)"){
        s=4;
      }

      if(f==null|| c==null || u==null ||s==null || m==null || r==null ||com==null || p==null){

}else{
      var po = ((p + u + c + com + s + f + r + m) * 100) / 32;

    var poStr = po.toString();
    if (poStr.includes(".")) {
      var partes = poStr.split(".");
      if (partes[1].length > 2) {
        po = po.toFixed(2); // Redondea a 2 decimales
      }
}

po = po + "%";

var porcentaje = document.getElementById("porcentaje");
porcentaje.textContent = po;
    }
    }
    function copiarPropiedadesCom(elemento) {
      if (!validar()) {
    return;}
      var resFun = document.getElementById("resCom");

      var color = window.getComputedStyle(elemento).color;
      var icon = elemento.querySelector("i").outerHTML;
      var text = elemento.textContent;

      resCom.style.color = color;
      resCom.innerHTML = icon + "<br>" + text;

      var row = document.getElementById("Compatibilidad");
  
  row.style.backgroundColor = "rgba" + color.slice(3, -1) + ", 0.2)";
  com=0;
      if(color==="rgb(220, 20, 60)"){
        com=0;
      }else if(color==="rgb(255, 140, 0)"){
      com=1;
      }else if(color==="rgb(255, 215, 0)"){
        com=2;
      }else if(color==="rgb(46, 139, 87)"){
        com=3;
      }else if(color==="rgb(30, 144, 255)"){
        com=4;
      }

      if(f==null|| c==null || u==null ||s==null || m==null || r==null ||com==null || p==null){

      }else{
        var po = ((p + u + c + com + s + f + r + m) * 100) / 32;

      var poStr = po.toString();
      if (poStr.includes(".")) {
        var partes = poStr.split(".");
        if (partes[1].length > 2) {
          po = po.toFixed(2); // Redondea a 2 decimales
        }
      }

      po = po + "%";

      var porcentaje = document.getElementById("porcentaje");
      porcentaje.textContent = po;
          }
    }


</script>

</body>
</html>
